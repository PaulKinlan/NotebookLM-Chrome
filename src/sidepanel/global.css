/* ============================================================================
   CSS Variables - Theme System
   ============================================================================ */

/* Shared variables (don't change with theme) */
:root {
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;

  --accent-primary: #2563eb;
  --accent-hover: #1d4ed8;
}

/* ============================================================================
   Default Theme (Dark) - Applied to :root
   This serves as both the default and the dark theme base.
   ============================================================================ */

:root {
  /* Background Colors */
  --bg-primary: #0d1117;
  --bg-secondary: #161b22;
  --bg-tertiary: #21262d;
  --bg-hover: #30363d;

  /* Border Colors */
  --border-color: #30363d;
  --border-muted: #21262d;

  /* Text Colors */
  --text-primary: #e6edf3;
  --text-secondary: #8b949e;
  --text-muted: #6e7681;

  /* Accent */
  --accent-muted: rgba(37, 99, 235, 0.2);

  /* Status Colors */
  --success: #3fb950;
  --success-hover: #2ea043;
  --warning: #d29922;
  --error: #f85149;
  --error-hover: #da3633;

  /* Icon Colors */
  --icon-tabs: #58a6ff;
  --icon-bookmarks: #f778ba;
  --icon-history: #d2a8ff;
  --icon-tab-groups: #34d399;

  /* Tab Group Colors (Chrome-matching) */
  --tab-group-grey: #5f6368;
  --tab-group-blue: #8ab4f8;
  --tab-group-red: #f28b82;
  --tab-group-yellow: #fdd663;
  --tab-group-green: #81c995;
  --tab-group-pink: #ff8bcb;
  --tab-group-purple: #c58af9;
  --tab-group-cyan: #78d9ec;
  --tab-group-orange: #fcad70;

  /* Shadow */
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.4);

  /* Scrollbar */
  --scrollbar-track: #161b22;
  --scrollbar-thumb: #30363d;
  --scrollbar-thumb-hover: #484f58;

  /* Input */
  --input-bg: #0d1117;
  --input-border: #30363d;
  --input-border-focus: #58a6ff;

  /* Code/Cards */
  --code-bg: #161b22;
  --card-hover-bg: #21262d;

  /* Error Backgrounds */
  --error-bg: rgba(248, 81, 73, 0.1);
  --error-border: rgba(248, 81, 73, 0.3);

  /* Brand */
  --brand-accent: #6366f1;
}

/* ============================================================================
   Light Theme - Explicit Override
   Applied when data-theme="light" is set on documentElement
   ============================================================================ */

[data-theme="light"] {
  /* Background Colors */
  --bg-primary: #ffffff;
  --bg-secondary: #f6f8fa;
  --bg-tertiary: #eaeef2;
  --bg-hover: #d0d7de;

  /* Border Colors */
  --border-color: #d0d7de;
  --border-muted: #eaeef2;

  /* Text Colors */
  --text-primary: #1f2328;
  --text-secondary: #656d76;
  --text-muted: #8c959f;

  /* Accent */
  --accent-muted: rgba(37, 99, 235, 0.1);

  /* Status Colors */
  --success: #1a7f37;
  --success-hover: #15652c;
  --warning: #9a6700;
  --error: #cf222e;
  --error-hover: #a71d24;

  /* Icon Colors */
  --icon-tabs: #0969da;
  --icon-bookmarks: #bf3989;
  --icon-history: #8250df;
  --icon-tab-groups: #059669;

  /* Tab Group Colors (more saturated for light backgrounds) */
  --tab-group-grey: #6e7781;
  --tab-group-blue: #0969da;
  --tab-group-red: #cf222e;
  --tab-group-yellow: #9a6700;
  --tab-group-green: #1a7f37;
  --tab-group-pink: #bf3989;
  --tab-group-purple: #8250df;
  --tab-group-cyan: #0891b2;
  --tab-group-orange: #bc4c00;

  /* Shadow */
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

  /* Scrollbar */
  --scrollbar-track: #f6f8fa;
  --scrollbar-thumb: #d0d7de;
  --scrollbar-thumb-hover: #afb8c1;

  /* Input */
  --input-bg: #ffffff;
  --input-border: #d0d7de;
  --input-border-focus: #0969da;

  /* Code/Cards */
  --code-bg: #f6f8fa;
  --card-hover-bg: #f3f4f6;

  /* Error Backgrounds */
  --error-bg: #fef2f2;
  --error-border: #fecaca;

  /* Brand */
  --brand-accent: #4f46e5;
}

/* ============================================================================
   System Preference - Light Mode Override
   Applied when user's OS is set to light mode AND no explicit theme is set.
   Note: This duplicates [data-theme="light"] intentionally - CSS has no way
   to reference another selector's values. The duplication ensures system
   preference detection works correctly via media queries.
   ============================================================================ */

@media (prefers-color-scheme: light) {
  :root:not([data-theme]) {
    /* Background Colors */
    --bg-primary: #ffffff;
    --bg-secondary: #f6f8fa;
    --bg-tertiary: #eaeef2;
    --bg-hover: #d0d7de;

    /* Border Colors */
    --border-color: #d0d7de;
    --border-muted: #eaeef2;

    /* Text Colors */
    --text-primary: #1f2328;
    --text-secondary: #656d76;
    --text-muted: #8c959f;

    /* Accent */
    --accent-muted: rgba(37, 99, 235, 0.1);

    /* Status Colors */
    --success: #1a7f37;
    --success-hover: #15652c;
    --warning: #9a6700;
    --error: #cf222e;
    --error-hover: #a71d24;

    /* Icon Colors */
    --icon-tabs: #0969da;
    --icon-bookmarks: #bf3989;
    --icon-history: #8250df;
    --icon-tab-groups: #059669;

    /* Tab Group Colors */
    --tab-group-grey: #6e7781;
    --tab-group-blue: #0969da;
    --tab-group-red: #cf222e;
    --tab-group-yellow: #9a6700;
    --tab-group-green: #1a7f37;
    --tab-group-pink: #bf3989;
    --tab-group-purple: #8250df;
    --tab-group-cyan: #0891b2;
    --tab-group-orange: #bc4c00;

    /* Shadow */
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

    /* Scrollbar */
    --scrollbar-track: #f6f8fa;
    --scrollbar-thumb: #d0d7de;
    --scrollbar-thumb-hover: #afb8c1;

    /* Input */
    --input-bg: #ffffff;
    --input-border: #d0d7de;
    --input-border-focus: #0969da;

    /* Code/Cards */
    --code-bg: #f6f8fa;
    --card-hover-bg: #f3f4f6;

    /* Error Backgrounds */
    --error-bg: #fef2f2;
    --error-border: #fecaca;

    /* Brand */
    --brand-accent: #4f46e5;
  }
}

/* ============================================================================
   Base Styles
   ============================================================================ */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
    Ubuntu, sans-serif;
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-primary);
  background: var(--bg-primary);
  overflow: hidden;
}

#app {
  display: flex;
  flex-direction: column;
  height: 100vh;
  max-height: 100vh;
}

.hidden {
  display: none !important;
}

/* ============================================================================
   Layout Classes (used across components)
   ============================================================================ */

.content {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  padding-bottom: 80px;
}

.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

.tab-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

.tab-header h2 {
  font-size: 18px;
  font-weight: 600;
}

/* Summary Section */
.summary-section {
  margin-bottom: 16px;
}

.summary-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 12px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  cursor: pointer;
  list-style: none;
}

.summary-header::-webkit-details-marker {
  display: none;
}

.summary-header .section-title {
  margin: 0;
}

.summary-header-actions {
  display: flex;
  align-items: center;
  gap: 8px;
}

.summary-chevron {
  flex-shrink: 0;
  transition: transform 0.2s;
}

.summary-section[open] .summary-chevron {
  transform: rotate(180deg);
}

.summary-content {
  padding: 16px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
}

.summary-loading {
  display: flex;
  align-items: center;
  gap: 8px;
}
